(self.webpackChunkse_tools=self.webpackChunkse_tools||[]).push([[808,143],{6182:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s=n(8152),a=n(7294),r=n(9804),l=n(6838),o=n(381),i=n.n(o),c=n(3943),m=n(6839),j=n(9810),u={IMAGE:/(png|PNG|jpe?g|JPE?G|bmp|BMP|gif|GIF)/};function d(e){var t=e.data.Pictures,n=(0,a.useState)(e.index),o=(0,s.Z)(n,2),d=o[0],f=o[1],p=(0,a.useState)(e.data),v=(0,s.Z)(p,2),h=v[0],w=v[1],g=null==t?void 0:t.length,E=t[d],k=(0,a.useRef)(null),b=function(){return d>0},C=function(){return d<g-1},N=function(){k.current&&k.current.handleDefaultClick(),f(d-1)},y=function(){k.current&&k.current.handleDefaultClick(),f(d+1)},z=function(t){var n=t.which;"textarea"!==t.target.type&&(27===n?e.onCancel(t):37!==n&&38!==n||!b()?39!==n&&40!==n||!C()||y():N())};(0,a.useEffect)((function(){return window.addEventListener("keyup",z),function(){window.removeEventListener("keyup",z)}}),[]);var I=function(e){var t=i()(e);return function(e){return t.isValid()&&t.format(e)}};function P(){var t=E.leftTopTitle;return!e.onlyImage&&a.createElement("div",{className:"se-file-preview-header"},a.createElement("span",{title:t},t.length>20?"".concat(t.substr(0,8),"...").concat(t.substr(t.length-6)):t),g>0&&t&&a.createElement("span",{className:"se-file-preview-header-separator"},"|"),!e.isShowCreateUser&&(E.CreateUserName||e.data.CreateUserName)&&a.createElement(a.Fragment,null,a.createElement(r.Z,{type:"user",className:"se-file-preview-header-uploader-icon"}),a.createElement("span",{className:"se-file-preview-header-uploader"},E.CreateUserName||e.data.CreateUserName)),(E.CreateTime||E.UploadTime)&&a.createElement(a.Fragment,null,a.createElement("span",{className:"se-file-preview-header-date"},"上传于",I(E.CreateTime||E.UploadTime)("YYYY年MM月DD日")),a.createElement("span",{className:"se-file-preview-header-time"},I(E.CreateTime||E.UploadTime)("HH:mm"))))}function U(){if(e.onlyImage)return null;var t=g>0?E.Content:h.Content;if(!e.editable&&!t)return a.createElement("div",{style:{height:"40px"}});var n={minRows:1},s="se-file-preview-caption-noImg";return g>0&&(n.maxRows=2,s="se-file-preview-caption"),a.createElement("div",{className:s},a.createElement(l.Z.TextArea,{disabled:!e.editable,autoSize:n,placeholder:e.editable?e.hintText:"",value:t,onChange:function(e){var t=h.setIn(["Pictures",d,"Content"],e.target.value);w(t)},onBlur:function(t){t.stopPropagation();var n=g>0?E.Content:e.data.get("Content");t.target.value!==n&&e.onCaptionChange(h,d)}}))}return a.createElement("div",{className:"se-file-preview"},a.createElement("div",{className:"se-file-preview-background"},a.createElement("div",{className:"preview-close"},a.createElement("em",{className:"icon-close",onClick:e.onCancel})),a.createElement(P,null),a.createElement(U,null),a.createElement("div",{className:"se-file-preview-content"},a.createElement("div",{className:"se-file-preview-content-arrow"},b()&&a.createElement("em",{className:"icon-arrow-left arrow",onClick:N})),a.createElement("div",{className:"se-file-preview-content-preview"},0!==g&&a.createElement("div",{className:"se-file-preview-content-preview-bg"},function(){var t=E.url,n=E.PictureId,s=E.FileName,r=E.PictureUrl,l=E.DownloadName,o=E.PictureContent,i=E.ImageContent,d=t||"".concat(window.__options.APIBasePath,"/common/file/download/").concat(n,"?fileName=").concat(encodeURIComponent(s)),f=t||"".concat(window.__options.APIBasePath,"/common/file/download/").concat(n,"?fileName=").concat(encodeURIComponent(l),"&openWith=download");r&&(f="");var p=(null==s?void 0:s.replace(/.+\./,"").toLowerCase())||"png";return"pdf"===p||"pdf"===e.filetype?a.createElement(c.default,{url:d}):u.IMAGE.test(p)?a.createElement(m.Z,{ref:k,isShowBgcLink:t,url:r,imageId:n,imageContent:o,pictureContent:i,link:f}):a.createElement(j.Z,{url:f})}()),g>0&&a.createElement("div",{className:"se-file-preview-content-preview-num"},d+1,"/",g)),a.createElement("div",{className:"se-file-preview-content-arrow"},C()&&a.createElement("em",{className:"icon-arrow-right arrow",onClick:y})))))}d.defaultProps={index:0,isShowCreateUser:!1,hintText:"点击添加日志内容",editable:!1,onlyImage:!1,data:{},onCancel:function(){console.info("ImagesView's function 'onCancel' is undefined.")},onCaptionChange:function(){}};const f=d},3943:(e,t,n)=>{n.r(t),n.d(t,{default:()=>f});var s,a=n(7462),r=n(8152),l=n(7294),o=n(5554),i=n(6482),c=n(1382),m=n(642),j=n(9092),u=null===(s=window.__options)||void 0===s?void 0:s.publicPath;function d(e){var t=e.url,n=e.pdfworkerPath,s=(0,l.useState)(1),u=(0,r.Z)(s,2),d=u[0],f=u[1],p=(0,l.useState)(0),v=(0,r.Z)(p,2),h=v[0],w=v[1],g=(0,l.useState)(document.body.clientWidth-296),E=(0,r.Z)(g,2),k=E[0],b=E[1],C={CUSTOMERID:j.pR.get("CUSTOMERID")},N=(0,l.useState)({url:t,httpHeaders:C,withCredentials:!0}),y=(0,r.Z)(N,2),z=y[0],I=y[1];n&&(o.v0.GlobalWorkerOptions.workerSrc=n);var P=function(){return b(document.body.clientWidth-296)};(0,l.useEffect)((function(){return window.addEventListener("resize",P),function(){return window.removeEventListener("resize",P)}}),[]),(0,l.useEffect)((function(){f(1),w(0),I({url:t,httpHeaders:C,withCredentials:!0})}),[t]);var U=(0,j.OE)("se-pdf-preview",e);return l.createElement("div",(0,a.Z)({},e,{className:U}),l.createElement(o.BB,{file:z,className:"se-pdf-preview-document",onLoadSuccess:function(e){var t=e.numPages;return w(t)},onLoadError:function(){return i.Z.error("加载失败，请刷新页面后重试")},loading:l.createElement(c.Z,{size:"large",tip:"正在努力加载中"})},l.createElement(o.T3,{pageNumber:d,width:k,scale:1})),l.createElement("div",{className:"se-pdf-preview-footer"},0!==h&&l.createElement(m.Z,{onChange:function(e){return f(e)},total:10*h,current:d})),l.createElement("a",{className:"operation-btn",title:"下载",href:t},l.createElement("em",{className:"icon-download",color:"white"})))}o.v0.GlobalWorkerOptions.workerSrc=u?"".concat(u,"/library/pdfworker.js"):"//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(o.v0.version,"/pdf.worker.min.js");const f=l.memo(d)},6700:(e,t,n)=>{var s={"./af":2786,"./af.js":2786,"./ar":867,"./ar-dz":4130,"./ar-dz.js":4130,"./ar-kw":6135,"./ar-kw.js":6135,"./ar-ly":6440,"./ar-ly.js":6440,"./ar-ma":7702,"./ar-ma.js":7702,"./ar-sa":6040,"./ar-sa.js":6040,"./ar-tn":7100,"./ar-tn.js":7100,"./ar.js":867,"./az":1083,"./az.js":1083,"./be":9808,"./be.js":9808,"./bg":8338,"./bg.js":8338,"./bm":7438,"./bm.js":7438,"./bn":8905,"./bn-bd":6225,"./bn-bd.js":6225,"./bn.js":8905,"./bo":1560,"./bo.js":1560,"./br":1278,"./br.js":1278,"./bs":622,"./bs.js":622,"./ca":2468,"./ca.js":2468,"./cs":5822,"./cs.js":5822,"./cv":877,"./cv.js":877,"./cy":7373,"./cy.js":7373,"./da":4780,"./da.js":4780,"./de":9740,"./de-at":217,"./de-at.js":217,"./de-ch":894,"./de-ch.js":894,"./de.js":9740,"./dv":5300,"./dv.js":5300,"./el":837,"./el.js":837,"./en-au":8348,"./en-au.js":8348,"./en-ca":7925,"./en-ca.js":7925,"./en-gb":2243,"./en-gb.js":2243,"./en-ie":6436,"./en-ie.js":6436,"./en-il":7207,"./en-il.js":7207,"./en-in":4175,"./en-in.js":4175,"./en-nz":6319,"./en-nz.js":6319,"./en-sg":1662,"./en-sg.js":1662,"./eo":2915,"./eo.js":2915,"./es":5655,"./es-do":5251,"./es-do.js":5251,"./es-mx":6112,"./es-mx.js":6112,"./es-us":1146,"./es-us.js":1146,"./es.js":5655,"./et":5603,"./et.js":5603,"./eu":7763,"./eu.js":7763,"./fa":6959,"./fa.js":6959,"./fi":1897,"./fi.js":1897,"./fil":2549,"./fil.js":2549,"./fo":4694,"./fo.js":4694,"./fr":4470,"./fr-ca":3049,"./fr-ca.js":3049,"./fr-ch":2330,"./fr-ch.js":2330,"./fr.js":4470,"./fy":5044,"./fy.js":5044,"./ga":9295,"./ga.js":9295,"./gd":2101,"./gd.js":2101,"./gl":8794,"./gl.js":8794,"./gom-deva":7884,"./gom-deva.js":7884,"./gom-latn":3168,"./gom-latn.js":3168,"./gu":5349,"./gu.js":5349,"./he":4206,"./he.js":4206,"./hi":94,"./hi.js":94,"./hr":316,"./hr.js":316,"./hu":2138,"./hu.js":2138,"./hy-am":1423,"./hy-am.js":1423,"./id":9218,"./id.js":9218,"./is":135,"./is.js":135,"./it":626,"./it-ch":150,"./it-ch.js":150,"./it.js":626,"./ja":9183,"./ja.js":9183,"./jv":4286,"./jv.js":4286,"./ka":2105,"./ka.js":2105,"./kk":7772,"./kk.js":7772,"./km":8758,"./km.js":8758,"./kn":9282,"./kn.js":9282,"./ko":3730,"./ko.js":3730,"./ku":1408,"./ku.js":1408,"./ky":3291,"./ky.js":3291,"./lb":6841,"./lb.js":6841,"./lo":5466,"./lo.js":5466,"./lt":7010,"./lt.js":7010,"./lv":7595,"./lv.js":7595,"./me":9861,"./me.js":9861,"./mi":5493,"./mi.js":5493,"./mk":5966,"./mk.js":5966,"./ml":7341,"./ml.js":7341,"./mn":5115,"./mn.js":5115,"./mr":370,"./mr.js":370,"./ms":9847,"./ms-my":1237,"./ms-my.js":1237,"./ms.js":9847,"./mt":2126,"./mt.js":2126,"./my":6165,"./my.js":6165,"./nb":4924,"./nb.js":4924,"./ne":6744,"./ne.js":6744,"./nl":3901,"./nl-be":9814,"./nl-be.js":9814,"./nl.js":3901,"./nn":3877,"./nn.js":3877,"./oc-lnc":2135,"./oc-lnc.js":2135,"./pa-in":5858,"./pa-in.js":5858,"./pl":4495,"./pl.js":4495,"./pt":9520,"./pt-br":7971,"./pt-br.js":7971,"./pt.js":9520,"./ro":6459,"./ro.js":6459,"./ru":1793,"./ru.js":1793,"./sd":950,"./sd.js":950,"./se":490,"./se.js":490,"./si":124,"./si.js":124,"./sk":4249,"./sk.js":4249,"./sl":4985,"./sl.js":4985,"./sq":1104,"./sq.js":1104,"./sr":9131,"./sr-cyrl":9915,"./sr-cyrl.js":9915,"./sr.js":9131,"./ss":5893,"./ss.js":5893,"./sv":8760,"./sv.js":8760,"./sw":1172,"./sw.js":1172,"./ta":7333,"./ta.js":7333,"./te":3110,"./te.js":3110,"./tet":2095,"./tet.js":2095,"./tg":7321,"./tg.js":7321,"./th":9041,"./th.js":9041,"./tk":9005,"./tk.js":9005,"./tl-ph":5768,"./tl-ph.js":5768,"./tlh":9444,"./tlh.js":9444,"./tr":2397,"./tr.js":2397,"./tzl":8254,"./tzl.js":8254,"./tzm":1106,"./tzm-latn":699,"./tzm-latn.js":699,"./tzm.js":1106,"./ug-cn":9288,"./ug-cn.js":9288,"./uk":7691,"./uk.js":7691,"./ur":3795,"./ur.js":3795,"./uz":6791,"./uz-latn":588,"./uz-latn.js":588,"./uz.js":6791,"./vi":5666,"./vi.js":5666,"./x-pseudo":4378,"./x-pseudo.js":4378,"./yo":5805,"./yo.js":5805,"./zh-cn":3839,"./zh-cn.js":3839,"./zh-hk":5726,"./zh-hk.js":5726,"./zh-mo":9807,"./zh-mo.js":9807,"./zh-tw":4152,"./zh-tw.js":4152};function a(e){var t=r(e);return n(t)}function r(e){if(!n.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id=6700},4601:()=>{},2767:()=>{},8251:()=>{},7677:()=>{},1543:()=>{},7324:()=>{}}]);